<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Inbox Pro | AI-Powered Email Client</title>
    
    <!-- –¢—ñ–ª—å–∫–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ -->
    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="auth-service.js"></script>
    
    <!-- Local Font Awesome -->
    <style>
        @font-face {
            font-family: 'Font Awesome 6 Free';
            font-style: normal;
            font-weight: 400;
            font-display: block;
            src: url("data:application/font-woff2;charset=utf-8;base64,d09GMgABAAAAAA...") format("woff2");
        }
        .fas, .far, .fa {
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
        }
        .far {
            font-weight: 400;
        }
    </style>
    
    <!-- Local Animate.css -->
    <style>
        .animate__animated {
            animation-duration: 1s;
            animation-fill-mode: both;
        }
        .animate__fadeIn {
            animation-name: fadeIn;
        }
        .animate__fadeInDown {
            animation-name: fadeInDown;
        }
        .animate__slideInLeft {
            animation-name: slideInLeft;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInLeft {
            from { transform: translateX(-100%); visibility: visible; }
            to { transform: translateX(0); }
        }
    </style>
    
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üì¨</text></svg>">
</head>
<body class="dark-theme">
    <!-- Initial Loading Screen -->
    <div class="loading-overlay" id="initialLoading">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Inbox Pro...</div>
        </div>
    </div>

    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container animate__animated animate__fadeIn">
            <div class="login-header">
                <div class="login-logo">
                    <div class="logo-icon">
                        <i class="fas fa-mail-bulk"></i>
                    </div>
                    <h1>Inbox Pro</h1>
                </div>
                <p class="login-subtitle">AI-Powered Smart Email Client</p>
            </div>
            
            <!-- Login Form -->
            <div class="login-form active" id="loginForm">
                <h2><i class="fas fa-sign-in-alt"></i> Welcome Back</h2>
                
                <div class="form-group">
                    <label for="loginEmail"><i class="fas fa-envelope"></i> Email Address</label>
                    <input type="email" id="loginEmail" placeholder="your@email.com" autocomplete="email">
                    <div class="error-message" id="loginEmailError"></div>
                </div>
                
                <div class="form-group">
                    <label for="loginPassword"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password">
                    <div class="error-message" id="loginPasswordError"></div>
                </div>
                
                <div class="form-options">
                    <label class="checkbox">
                        <input type="checkbox" id="rememberMe" checked>
                        <span class="checkmark"></span>
                        <span>Remember me</span>
                    </label>
                    <a href="#" class="forgot-link" id="forgotPasswordBtn">Forgot password?</a>
                </div>
                
                <button class="btn-primary" id="loginBtn">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
                
                <p class="login-switch">
                    <span>New user?</span> 
                    <a href="#" id="showRegister">Create account</a>
                </p>
                
                <!-- Privacy Notice -->
                <div class="privacy-notice">
                    <i class="fas fa-shield-alt"></i>
                    <span>Your data is protected. <a href="#" id="privacyPolicyBtn">Privacy Policy</a></span>
                </div>
            </div>

            <!-- Register Form -->
            <div class="login-form" id="registerForm">
                <h2><i class="fas fa-user-plus"></i> Create Account</h2>
                
                <div class="form-group">
                    <label for="registerName"><i class="fas fa-user"></i> Full Name</label>
                    <input type="text" id="registerName" placeholder="John Doe" autocomplete="name">
                    <div class="error-message" id="registerNameError"></div>
                </div>
                
                <div class="form-group">
                    <label for="registerEmail"><i class="fas fa-envelope"></i> Email Address</label>
                    <input type="email" id="registerEmail" placeholder="your@email.com" autocomplete="email">
                    <div class="error-message" id="registerEmailError"></div>
                </div>
                
                <div class="form-group">
                    <label for="registerPassword"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="registerPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password">
                    <div class="error-message" id="registerPasswordError"></div>
                    <small class="password-hint">Min. 8 characters with letters & numbers</small>
                    <div class="password-strength" id="passwordStrength">
                        <div class="password-strength-meter"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="registerConfirm"><i class="fas fa-lock"></i> Confirm Password</label>
                    <input type="password" id="registerConfirm" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password">
                    <div class="error-message" id="registerConfirmError"></div>
                </div>
                
                <div class="form-group">
                    <label class="checkbox">
                        <input type="checkbox" id="acceptTerms" required>
                        <span class="checkmark"></span>
                        <span>I accept <a href="#" id="termsBtn">Terms of Service</a> and <a href="#" id="privacyBtn">Privacy Policy</a></span>
                    </label>
                    <div class="error-message" id="termsError"></div>
                </div>
                
                <button class="btn-primary" id="registerBtn">
                    <i class="fas fa-check"></i> Create Account
                </button>
                
                <p class="login-switch">
                    <span>Already have an account?</span> 
                    <a href="#" id="showLogin">Sign in</a>
                </p>
            </div>

            <!-- Reset Password Form -->
            <div class="login-form" id="resetForm">
                <h2><i class="fas fa-key"></i> Reset Password</h2>
                
                <div class="form-group">
                    <label for="resetEmail"><i class="fas fa-envelope"></i> Email Address</label>
                    <input type="email" id="resetEmail" placeholder="your@email.com" autocomplete="email">
                    <div class="error-message" id="resetEmailError"></div>
                </div>
                
                <button class="btn-primary" id="sendResetBtn">
                    <i class="fas fa-paper-plane"></i> Send Reset Link
                </button>
                
                <p class="login-switch">
                    <span>Remember password?</span> 
                    <a href="#" id="showLoginFromReset">Sign in</a>
                </p>
            </div>

            <div class="login-features">
                <div class="feature">
                    <i class="fas fa-robot"></i>
                    <span>AI Spam Filter</span>
                </div>
                <div class="feature">
                    <i class="fas fa-bolt"></i>
                    <span>Smart Sorting</span>
                </div>
                <div class="feature">
                    <i class="fas fa-shield-alt"></i>
                    <span>Secure & Private</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div class="app" id="app" style="display: none; opacity: 0;">
        <!-- Header -->
        <header class="top">
            <button class="menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </button>
            
            <div class="header-left">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-mail-bulk"></i>
                    </div>
                    <h1>Inbox Pro</h1>
                </div>
            </div>

            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Search emails...">
            </div>

            <div class="top-actions">
                <button class="action-btn" id="refreshBtn" title="Refresh">
                    <i class="fas fa-sync-alt"></i>
                </button>
                
                <div class="theme-selector">
                    <button class="theme-btn" id="themeToggle" title="Theme">
                        <i class="fas fa-palette"></i>
                    </button>
                </div>
                
                <div class="user-menu" id="userMenu">
                    <div class="user-avatar" id="userAvatar">
                        <span>JD</span>
                    </div>
                    <div class="user-info">
                        <span class="user-name" id="userName">John Doe</span>
                        <span class="user-email" id="userEmail">john@example.com</span>
                    </div>
                    <button class="settings-btn" id="settingsBtn" title="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="#" class="dropdown-item" id="viewProfileBtn">
                            <i class="fas fa-user"></i>
                            <span>Profile</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item logout-btn" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Sign Out</span>
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <button class="compose-btn" id="composeBtn">
                    <i class="fas fa-plus"></i> 
                    <span>Compose</span>
                </button>

                <!-- Folders -->
                <nav class="sidebar-menu">
                    <div class="menu-section">
                        <h4>Folders</h4>
                        <div class="menu-item active" data-folder="inbox">
                            <div class="menu-icon">
                                <i class="fas fa-inbox"></i>
                            </div>
                            <span>Inbox</span>
                            <span class="badge unread-badge" id="inboxCount">5</span>
                        </div>
                        <div class="menu-item" data-folder="sent">
                            <div class="menu-icon">
                                <i class="fas fa-paper-plane"></i>
                            </div>
                            <span>Sent</span>
                        </div>
                        <div class="menu-item" data-folder="drafts">
                            <div class="menu-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <span>Drafts</span>
                        </div>
                        <div class="menu-item" data-folder="trash">
                            <div class="menu-icon">
                                <i class="fas fa-trash"></i>
                            </div>
                            <span>Trash</span>
                        </div>
                    </div>
                </nav>
            </aside>

            <!-- Content Area -->
            <section class="content">
                <!-- Content Header -->
                <div class="content-header">
                    <div class="folder-info">
                        <div class="folder-title">
                            <h2 id="currentFolder">
                                <i class="fas fa-inbox"></i> 
                                <span>Inbox</span>
                            </h2>
                            <div class="folder-stats">
                                <span id="emailCount">5 emails</span>
                                <span class="divider">‚Ä¢</span>
                                <span id="unreadCount">3 unread</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Emails Container -->
                <div class="emails-container">
                    <!-- Emails List -->
                    <div class="emails" id="emailsList">
                        <div class="empty-state">
                            <i class="fas fa-inbox"></i>
                            <h3>No emails</h3>
                            <p>Click "Compose" to create a new email</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- MODALS -->
    <div class="modal" id="composeModal">
        <div class="modal-box compose-modal">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> New Message</h3>
                <button class="modal-close" id="closeCompose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="compose-form">
                <div class="compose-field">
                    <input type="text" id="mailTo" placeholder="To" autocomplete="email">
                </div>
                <div class="compose-field">
                    <input type="text" id="mailSubject" placeholder="Subject">
                </div>
                
                <div class="email-editor">
                    <textarea id="mailText" placeholder="Write your message here..."></textarea>
                </div>
                
                <div class="compose-actions">
                    <button class="btn-primary" id="sendMail">
                        <i class="fas fa-paper-plane"></i> Send
                    </button>
                    <button class="btn-secondary" id="discardBtn">
                        <i class="fas fa-trash"></i> Discard
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- NOTIFICATION TOAST -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Script -->
    <script src="script.js" type="module"></script>
</body>
</html>
